# PHP-FPM Base Image

## Why?
PHP 7.1, PHP 7.4: patched configs to be able to set environment variables

## Available ENV variables and default values
```
PHP_MEMORY_LIMIT=128M
PHP_ALLOW_URL_FOPEN=On
PHP_UPLOAD_MAX_FILESIZE=2M
PHP_MAX_FILE_UPLOADS=20
PHP_POST_MAX_SIZE=8M
PHP_MAX_INPUT_VARS=1000
PHP_SHORT_OPEN_TAG=Off
```

```
PHP_FPM_PM=dynamic
PHP_FPM_PM_MAX_CHILDREN=30
PHP_FPM_PM_START_SERVERS=2
PHP_FPM_PM_MIN_SPARE_SERVERS=1
PHP_FPM_PM_MAX_SPARE_SERVERS=5
PHP_FPM_PM_MAX_REQUESTS=5
```


## PHP 8.0 (with enabled opcache by default)
```
PHP_OPCACHE_ENABLE=1
PHP_OPCACHE_ENABLE_CLI=1
PHP_OPCACHE_JIT_BUFFER_SIZE="512M"
PHP_OPCACHE_REVALIDATE_FREQ=0
PHP_OPCACHE_VALIDATE_TIMESTAMPS=0
PHP_OPCACHE_MAX_ACCELERATED_FILES=32531
PHP_OPCACHE_MEMORY_CONSUMPTION=512
PHP_OPCACHE_MAX_WASTED_PERCENTAGE=15
PHP_OPCACHE_INTERNED_STRINGS_BUFFER=64
PHP_OPCACHE_FAST_SHUTDOWN=1
```
